{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1937:16)\n    at listenInCluster (node:net:1994:12)\n    at Server.listen (node:net:2099:7)\n    at Function.listen (/home/harry/Documents/eyeWear/node_modules/express/lib/application.js:635:24)\n    at /home/harry/Documents/eyeWear/src/server.ts:18:9\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","syscall":"listen","timestamp":"2025-05-19 14:09:02"}
{"code":"EIO","errno":-5,"level":"error","message":"Uncaught Exception: EIO: i/o error, write","stack":"Error: EIO: i/o error, write\n    at writeSync (node:fs:924:3)\n    at SyncWriteStream._write (node:internal/fs/sync_write_stream:27:5)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at SyncWriteStream.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/home/harry/Documents/eyeWear/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/home/harry/Documents/eyeWear/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/home/harry/Documents/eyeWear/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/home/harry/Documents/eyeWear/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Writable.write (/home/harry/Documents/eyeWear/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:302:11)","syscall":"write","timestamp":"2025-05-19 14:10:19"}
{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1937:16)\n    at listenInCluster (node:net:1994:12)\n    at Server.listen (node:net:2099:7)\n    at Function.listen (/home/harry/Documents/eyeWear/node_modules/express/lib/application.js:635:24)\n    at /home/harry/Documents/eyeWear/src/server.ts:18:9\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","syscall":"listen","timestamp":"2025-05-19 14:15:41"}
{"level":"error","message":"[400] \"fullName\" is required, \"email\" is required, \"password\" is required, \"confirmPassword\" is required, \"mobileNumber\" is required, \"dateOfBirth\" is required, \"gender\" is required","timestamp":"2025-05-19 15:01:46"}
{"level":"error","message":"[400] \"password\" length must be at least 8 characters long, \"password\" with value \"duredev\" fails to match the required pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/","timestamp":"2025-05-19 15:05:24"}
{"level":"error","message":"[400] \"password\" with value \"duredev1\" fails to match the required pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/","timestamp":"2025-05-19 15:05:45"}
{"level":"error","message":"Error sending email: Email template 'welcome' not found","stack":"Error: Email template 'welcome' not found\n    at sendEmail (/home/harry/Documents/eyeWear/src/utils/email.ts:75:13)\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:72:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","timestamp":"2025-05-19 15:06:11"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register user","stack":"Error: Failed to register user\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:82:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 15:06:11"}
{"isOperational":true,"level":"error","message":"Unexpected error: Email already in use","stack":"Error: Email already in use\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:54:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"fail","statusCode":400,"timestamp":"2025-05-19 15:06:46"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register user","stack":"Error: Failed to register user\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:82:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 15:09:26"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register user","stack":"Error: Failed to register user\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:83:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 15:12:28"}
{"level":"error","message":"Error sending email: Email template 'welcome' not found","stack":"Error: Email template 'welcome' not found\n    at sendEmail (/home/harry/Documents/eyeWear/src/utils/email.ts:75:13)\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:72:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","timestamp":"2025-05-19 15:13:01"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register user","stack":"Error: Failed to register user\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:83:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 15:13:01"}
{"level":"error","message":"Error sending email: Email template 'welcome' not found","stack":"Error: Email template 'welcome' not found\n    at sendEmail (/home/harry/Documents/eyeWear/src/utils/email.ts:75:13)\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:72:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","timestamp":"2025-05-19 15:14:06"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register user","stack":"Error: Failed to register user\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:83:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 15:14:06"}
{"isOperational":true,"level":"error","message":"Unexpected error: Email already in use","stack":"Error: Email already in use\n    at AuthService.register (/home/harry/Documents/eyeWear/src/services/auth.service.ts:54:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.register (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:23:22)","status":"fail","statusCode":400,"timestamp":"2025-05-19 16:10:56"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to login","stack":"Error: Failed to login\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:110:13)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 16:32:00"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to login","stack":"Error: Failed to login\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:110:13)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"error","statusCode":500,"timestamp":"2025-05-19 16:32:45"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:98:15)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:37:01"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:98:15)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:37:36"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:105:15)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:39:38"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:105:15)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:41:55"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:105:15)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:43:02"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:96:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":401,"timestamp":"2025-05-19 16:46:05"}
{"isOperational":true,"level":"error","message":"Unexpected error: Please verify your email before logging in","stack":"Error: Please verify your email before logging in\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:97:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":403,"timestamp":"2025-05-19 16:52:18"}
{"level":"error","message":"Error sending email: Email template 'adminEmailVerification' not found","stack":"Error: Email template 'adminEmailVerification' not found\n    at sendEmail (/home/harry/Documents/eyeWear/src/utils/email.ts:98:13)\n    at AdminService.register (/home/harry/Documents/eyeWear/src/services/admin.service.ts:67:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/harry/Documents/eyeWear/src/controllers/admin.controller.ts:13:19","timestamp":"2025-05-20 12:34:56"}
{"isOperational":true,"level":"error","message":"Unexpected error: Failed to register admin","stack":"Error: Failed to register admin\n    at AdminService.register (/home/harry/Documents/eyeWear/src/services/admin.service.ts:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/harry/Documents/eyeWear/src/controllers/admin.controller.ts:13:19","status":"error","statusCode":500,"timestamp":"2025-05-20 12:34:56"}
{"isOperational":true,"level":"error","message":"Unexpected error: Email already in use","stack":"Error: Email already in use\n    at AdminService.register (/home/harry/Documents/eyeWear/src/services/admin.service.ts:49:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/harry/Documents/eyeWear/src/controllers/admin.controller.ts:13:19","status":"fail","statusCode":400,"timestamp":"2025-05-20 12:40:02"}
{"isOperational":true,"level":"error","message":"Unexpected error: Invalid email or password","stack":"Error: Invalid email or password\n    at AdminService.login (/home/harry/Documents/eyeWear/src/services/admin.service.ts:86:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /home/harry/Documents/eyeWear/src/controllers/admin.controller.ts:21:19","status":"fail","statusCode":401,"timestamp":"2025-05-20 12:47:19"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 13:03:23"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 13:05:02"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 13:11:59"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 13:12:24"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 13:17:30"}
{"error":{"_message":"Product validation failed","errors":{"frameHeight":{"kind":"required","message":"Frame height is required","name":"ValidatorError","path":"frameHeight","properties":{"message":"Frame height is required","path":"frameHeight","type":"required"}},"frameWidth":{"kind":"required","message":"Frame width is required","name":"ValidatorError","path":"frameWidth","properties":{"message":"Frame width is required","path":"frameWidth","type":"required"}}},"message":"Product validation failed: frameHeight: Frame height is required, frameWidth: Frame width is required","name":"ValidationError"},"level":"error","message":"Error creating product","timestamp":"2025-05-20 13:40:15"}
{"_message":"Product validation failed","errors":{"frameHeight":{"kind":"required","message":"Frame height is required","name":"ValidatorError","path":"frameHeight","properties":{"message":"Frame height is required","path":"frameHeight","type":"required"}},"frameWidth":{"kind":"required","message":"Frame width is required","name":"ValidatorError","path":"frameWidth","properties":{"message":"Frame width is required","path":"frameWidth","type":"required"}}},"level":"error","message":"Unexpected error: Product validation failed: frameHeight: Frame height is required, frameWidth: Frame width is required","stack":"ValidationError: Product validation failed: frameHeight: Frame height is required, frameWidth: Frame width is required\n    at model.Document.invalidate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/document.js:3219:32)\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/document.js:3012:17\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/schematype.js:1368:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-05-20 13:40:15"}
{"error":{},"level":"error","message":"Error fetching products","timestamp":"2025-05-20 13:55:35"}
{"level":"error","message":"Unexpected error: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)","stack":"MissingSchemaError: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)\n    at NativeConnection.Connection.model (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/connection.js:1136:13)\n    at _getModelFromConn (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:585:15)\n    at addModelNamesToMap (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:512:17)\n    at getModelsMapForPopulate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:201:7)\n    at populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4394:21)\n    at _populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4354:5)\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4326:5\n    at new Promise (<anonymous>)\n    at Function.populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4325:10)\n    at model.Query._find (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/query.js:2320:20)","timestamp":"2025-05-20 13:55:35"}
{"error":{},"level":"error","message":"Error fetching products","timestamp":"2025-05-20 13:56:09"}
{"level":"error","message":"Unexpected error: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)","stack":"MissingSchemaError: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)\n    at NativeConnection.Connection.model (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/connection.js:1136:13)\n    at _getModelFromConn (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:585:15)\n    at addModelNamesToMap (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:512:17)\n    at getModelsMapForPopulate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:201:7)\n    at populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4394:21)\n    at _populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4354:5)\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4326:5\n    at new Promise (<anonymous>)\n    at Function.populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4325:10)\n    at model.Query._find (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/query.js:2320:20)","timestamp":"2025-05-20 13:56:09"}
{"error":{},"level":"error","message":"Error fetching products","timestamp":"2025-05-20 14:00:02"}
{"level":"error","message":"Unexpected error: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)","stack":"MissingSchemaError: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)\n    at NativeConnection.Connection.model (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/connection.js:1136:13)\n    at _getModelFromConn (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:585:15)\n    at addModelNamesToMap (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:512:17)\n    at getModelsMapForPopulate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:201:7)\n    at populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4394:21)\n    at _populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4354:5)\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4326:5\n    at new Promise (<anonymous>)\n    at Function.populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4325:10)\n    at model.Query._find (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/query.js:2320:20)","timestamp":"2025-05-20 14:00:02"}
{"error":{},"level":"error","message":"Error fetching products","timestamp":"2025-05-20 14:00:45"}
{"level":"error","message":"Unexpected error: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)","stack":"MissingSchemaError: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema)\n    at NativeConnection.Connection.model (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/connection.js:1136:13)\n    at _getModelFromConn (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:585:15)\n    at addModelNamesToMap (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:512:17)\n    at getModelsMapForPopulate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:201:7)\n    at populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4394:21)\n    at _populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4354:5)\n    at /home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4326:5\n    at new Promise (<anonymous>)\n    at Function.populate (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/model.js:4325:10)\n    at model.Query._find (/home/harry/Documents/eyeWear/node_modules/mongoose/lib/query.js:2320:20)","timestamp":"2025-05-20 14:00:45"}
{"isOperational":true,"level":"error","message":"Unexpected error: Please verify your email before logging in","stack":"Error: Please verify your email before logging in\n    at AuthService.login (/home/harry/Documents/eyeWear/src/services/auth.service.ts:97:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.login (/home/harry/Documents/eyeWear/src/controllers/auth.controller.ts:33:22)","status":"fail","statusCode":403,"timestamp":"2025-05-20 15:40:09"}
{"level":"error","message":"[404] User not found","timestamp":"2025-05-20 15:52:50"}
